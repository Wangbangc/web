```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ä¸‰æ±Ÿå­¦é™¢æ–°é—»å­¦ - æ–°é—»å°è®°è€…å…»æˆè®°</title>
<style>
* {
margin: 0;
padding: 0;
box-sizing: border-box;
}

body {
font-family: 'Microsoft YaHei', sans-serif;
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
min-height: 100vh;
display: flex;
justify-content: center;
align-items: center;
overflow-x: hidden;
}

.game-container {
background: white;
border-radius: 20px;
box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
width: 90%;
max-width: 1200px;
min-height: 80vh;
position: relative;
overflow: hidden;
}

.game-header {
background: linear-gradient(45deg, #f093fb 0%, #f5576c 100%);
color: white;
padding: 30px;
text-align: center;
position: relative;
}

.game-title {
font-size: 2.5em;
margin-bottom: 10px;
text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
}

.game-subtitle {
font-size: 1.2em;
opacity: 0.9;
}

.player-stats {
position: absolute;
top: 20px;
right: 20px;
background: rgba(255, 255, 255, 0.2);
padding: 15px 25px;
border-radius: 10px;
backdrop-filter: blur(10px);
}

.stat-item {
display: flex;
align-items: center;
margin: 5px 0;
font-size: 1.1em;
}

.stat-icon {
margin-right: 10px;
font-size: 1.3em;
}

.game-area {
padding: 40px;
min-height: 500px;
}

.level-container {
display: none;
animation: fadeIn 0.5s ease;
}

.level-container.active {
display: block;
}

@keyframes fadeIn {
from { opacity: 0; transform: translateY(20px); }
to { opacity: 1; transform: translateY(0); }
}

.mission-card {
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
color: white;
padding: 30px;
border-radius: 15px;
margin-bottom: 30px;
box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
}

.mission-title {
font-size: 1.8em;
margin-bottom: 15px;
display: flex;
align-items: center;
}

.mission-icon {
font-size: 2em;
margin-right: 15px;
}

.mission-description {
font-size: 1.1em;
line-height: 1.6;
margin-bottom: 20px;
}

.task-area {
background: #f8f9fa;
padding: 30px;
border-radius: 15px;
margin-bottom: 20px;
}

.drag-container {
min-height: 200px;
border: 3px dashed #ddd;
border-radius: 10px;
padding: 20px;
margin: 20px 0;
display: flex;
flex-wrap: wrap;
gap: 10px;
align-items: flex-start;
transition: all 0.3s ease;
}

.drag-container.drag-over {
border-color: #667eea;
background: rgba(102, 126, 234, 0.1);
}

.draggable-item {
background: white;
padding: 15px 25px;
border-radius: 10px;
cursor: move;
box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
transition: all 0.3s ease;
user-select: none;
}

.draggable-item:hover {
transform: translateY(-3px);
box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
}

.draggable-item.dragging {
opacity: 0.5;
}

.question-box {
background: white;
padding: 30px;
border-radius: 15px;
box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
}

.question {
font-size: 1.3em;
margin-bottom: 25px;
color: #333;
}

.option {
background: #f8f9fa;
padding: 15px 25px;
margin: 10px 0;
border-radius: 10px;
cursor: pointer;
transition: all 0.3s ease;
border: 2px solid transparent;
}

.option:hover {
background: #667eea;
color: white;
transform: translateX(10px);
}

.option.selected {
border-color: #667eea;
background: rgba(102, 126, 234, 0.1);
}

.option.correct {
background: #4caf50;
color: white;
}

.option.incorrect {
background: #f44336;
color: white;
}

.action-button {
background: linear-gradient(45deg, #667eea 0%, #764ba2 100%);
color: white;
border: none;
padding: 15px 40px;
font-size: 1.1em;
border-radius: 30px;
cursor: pointer;
transition: all 0.3s ease;
box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
margin: 10px;
}

.action-button:hover {
transform: translateY(-3px);
box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
}

.action-button:disabled {
opacity: 0.6;
cursor: not-allowed;
}

.completion-message {
background: linear-gradient(45deg, #4caf50 0%, #45a049 100%);
color: white;
padding: 20px;
border-radius: 10px;
text-align: center;
margin: 20px 0;
animation: slideIn 0.5s ease;
}

@keyframes slideIn {
from { transform: translateX(-100%); }
to { transform: translateX(0); }
}

.progress-bar {
background: #e0e0e0;
height: 10px;
border-radius: 5px;
overflow: hidden;
margin: 20px 0;
}

.progress-fill {
background: linear-gradient(45deg, #667eea 0%, #764ba2 100%);
height: 100%;
width: 0%;
transition: width 0.5s ease;
}

.intro-screen {
text-align: center;
padding: 50px;
}

.intro-title {
font-size: 3em;
color: #333;
margin-bottom: 20px;
}

.intro-text {
font-size: 1.3em;
color: #666;
margin-bottom: 30px;
line-height: 1.8;
}

.character-avatar {
width: 150px;
height: 150px;
background: linear-gradient(45deg, #667eea 0%, #764ba2 100%);
border-radius: 50%;
margin: 0 auto 30px;
display: flex;
align-items: center;
justify-content: center;
font-size: 4em;
animation: bounce 2s infinite;
}

@keyframes bounce {
0%, 100% { transform: translateY(0); }
50% { transform: translateY(-20px); }
}

.news-gallery {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
gap: 20px;
margin: 30px 0;
}

.news-item {
background: white;
border-radius: 10px;
overflow: hidden;
box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
transition: transform 0.3s ease;
cursor: pointer;
}

.news-item:hover {
transform: translateY(-5px);
}

.news-image {
width: 100%;
height: 150px;
background: linear-gradient(45deg, #f093fb 0%, #f5576c 100%);
display: flex;
align-items: center;
justify-content: center;
font-size: 3em;
color: white;
}

.news-content {
padding: 20px;
}

.news-title {
font-size: 1.2em;
margin-bottom: 10px;
color: #333;
}

.news-excerpt {
color: #666;
font-size: 0.9em;
line-height: 1.5;
}

.modal {
display: none;
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0, 0, 0, 0.8);
z-index: 1000;
justify-content: center;
align-items: center;
}

.modal-content {
background: white;
padding: 40px;
border-radius: 20px;
max-width: 600px;
width: 90%;
text-align: center;
animation: modalSlideIn 0.3s ease;
}

@keyframes modalSlideIn {
from { transform: scale(0.8); opacity: 0; }
to { transform: scale(1); opacity: 1; }
}

.modal h2 {
color: #333;
margin-bottom: 20px;
font-size: 2em;
}

.modal p {
color: #666;
line-height: 1.6;
margin-bottom: 30px;
}

.close-button {
background: #666;
color: white;
border: none;
padding: 10px 30px;
border-radius: 20px;
cursor: pointer;
font-size: 1em;
transition: all 0.3s ease;
}

.close-button:hover {
background: #333;
transform: scale(1.05);
}

.floating-elements {
position: absolute;
width: 100%;
height: 100%;
pointer-events: none;
overflow: hidden;
}

.floating-element {
position: absolute;
opacity: 0.1;
animation: float 20s infinite linear;
}

@keyframes float {
from { transform: translateY(100vh) rotate(0deg); }
to { transform: translateY(-100px) rotate(360deg); }
}

.award-badge {
display: inline-block;
background: gold;
color: #333;
padding: 5px 15px;
border-radius: 20px;
margin: 5px;
font-weight: bold;
box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
}
</style>
</head>
<body>
<div class="floating-elements">
<div class="floating-element" style="left: 10%; font-size: 30px; animation-delay: 0s;">ğŸ“°</div>
<div class="floating-element" style="left: 30%; font-size: 40px; animation-delay: 5s;">ğŸ“·</div>
<div class="floating-element" style="left: 50%; font-size: 35px; animation-delay: 10s;">ğŸ¤</div>
<div class="floating-element" style="left: 70%; font-size: 45px; animation-delay: 15s;">âœï¸</div>
<div class="floating-element" style="left: 90%; font-size: 25px; animation-delay: 3s;">ğŸ“¡</div>
</div>

<div class="game-container">
<div class="game-header">
<h1 class="game-title">æ–°é—»å°è®°è€…å…»æˆè®°</h1>
<p class="game-subtitle">æ¢ç´¢ä¸‰æ±Ÿå­¦é™¢æ–°é—»å­¦çš„ç²¾å½©ä¸–ç•Œ</p>
<div class="player-stats">
<div class="stat-item">
<span class="stat-icon">ğŸ¯</span>
<span>ä»»åŠ¡è¿›åº¦: <span id="progress">0</span>/5</span>
</div>
<div class="stat-item">
<span class="stat-icon">â­</span>
<span>è·å¾—ç»éªŒ: <span id="experience">0</span></span>
</div>
<div class="stat-item">
<span class="stat-icon">ğŸ†</span>
<span>æˆå°±: <span id="achievements">0</span></span>
</div>
</div>
</div>

<div class="game-area">
<!-- æ¬¢è¿ç•Œé¢ -->
<div class="level-container active" id="intro">
<div class="intro-screen">
<div class="character-avatar">ğŸ“°</div>
<h2 class="intro-title">æ¬¢è¿æ¥åˆ°ä¸‰æ±Ÿå­¦é™¢æ–°é—»å­¦</h2>
<p class="intro-text">
æƒ³æˆä¸ºä¸€åä¼˜ç§€çš„æ–°é—»å·¥ä½œè€…å—ï¼Ÿ<br>
é€šè¿‡å®Œæˆ5ä¸ªç²¾å¿ƒè®¾è®¡çš„ä»»åŠ¡ï¼Œ<br>
ä½ å°†å­¦ä¹ åˆ°æ–°é—»é‡‡å†™ã€ç¼–è¾‘ã€å‘å¸ƒçš„å…¨è¿‡ç¨‹ï¼<br>
è®©æˆ‘ä»¬ä¸€èµ·å¼€å¯è¿™æ®µç²¾å½©çš„æ–°é—»ä¹‹æ—…å§ï¼
</p>
<button class="action-button" onclick="startGame()">å¼€å§‹å†’é™©</button>
</div>
</div>

<!-- ä»»åŠ¡1ï¼šæ–°é—»è¦ç´ è¯†åˆ« -->
<div class="level-container" id="level1">
<div class="mission-card">
<h2 class="mission-title">
<span class="mission-icon">ğŸ”</span>
ä»»åŠ¡ä¸€ï¼šè¯†åˆ«æ–°é—»è¦ç´ 
</h2>
<p class="mission-description">
æ–°é—»æŠ¥é“å¿…é¡»åŒ…å«5W1Hè¦ç´ ã€‚è¯·å°†æ­£ç¡®çš„æ–°é—»è¦ç´ æ‹–æ‹½åˆ°å¯¹åº”çš„ä½ç½®ã€‚
</p>
</div>

<div class="task-area">
<h3>è¯·å°†ä¸‹åˆ—è¦ç´ æ‹–æ‹½åˆ°æ­£ç¡®çš„ä½ç½®ï¼š</h3>
<div class="drag-container" id="elements-container">
<div class="draggable-item" draggable="true" data-element="what">What (ä»€ä¹ˆäº‹)</div>
<div class="draggable-item" draggable="true" data-element="who">Who (è°)</div>
<div class="draggable-item" draggable="true" data-element="when">When (ä½•æ—¶)</div>
<div class="draggable-item" draggable="true" data-element="where">Where (ä½•åœ°)</div>
<div class="draggable-item" draggable="true" data-element="why">Why (ä¸ºä½•)</div>
<div class="draggable-item" draggable="true" data-element="how">How (å¦‚ä½•)</div>
</div>
</div>

<div class="question-box">
<h3>æ–°é—»è¦ç´ å¯¹åº”å…³ç³»ï¼š</h3>
<div class="drag-container" id="answers-container">
<div class="answer-slot" data-answer="what">1. _______ï¼šå‘ç”Ÿäº†ä»€ä¹ˆäº‹ä»¶ï¼Ÿ</div>
<div class="answer-slot" data-answer="who">2. _______ï¼šè°å‚ä¸äº†äº‹ä»¶ï¼Ÿ</div>
<div class="answer-slot" data-answer="when">3. _______ï¼šäº‹ä»¶ä½•æ—¶å‘ç”Ÿï¼Ÿ</div>
<div class="answer-slot" data-answer="where">4. _______ï¼šäº‹ä»¶å‘ç”Ÿåœ¨å“ªé‡Œï¼Ÿ</div>
<div class="answer-slot" data-answer="why">5. _______ï¼šäº‹ä»¶ä¸ºä½•å‘ç”Ÿï¼Ÿ</div>
<div class="answer-slot" data-answer="how">6. _______ï¼šäº‹ä»¶å¦‚ä½•å‘ç”Ÿï¼Ÿ</div>
</div>
</div>

<button class="action-button" onclick="checkLevel1()">æ£€æŸ¥ç­”æ¡ˆ</button>
<button class="action-button" onclick="showHint()">æç¤º</button>
</div>

<!-- ä»»åŠ¡2ï¼šæ–°é—»æ ‡é¢˜åˆ›ä½œ -->
<div class="level-container" id="level2">
<div class="mission-card">
<h2 class="mission-title">
<span class="mission-icon">âœï¸</span>
ä»»åŠ¡äºŒï¼šæ–°é—»æ ‡é¢˜åˆ›ä½œ
</h2>
<p class="mission-description">
å¥½çš„æ–°é—»æ ‡é¢˜è¦ç®€æ´æ˜äº†ã€å¸å¼•çœ¼çƒã€‚è¯·é€‰æ‹©æœ€åˆé€‚çš„æ ‡é¢˜ã€‚
</p>
</div>

<div class="task-area">
<div class="question-box">
<p class="question">ä¸‰æ±Ÿå­¦é™¢æ–°é—»å­¦ä¸“ä¸šä¸¾åŠ"æ–°åª’ä½“æ—¶ä»£"ä¸»é¢˜è®²åº§ï¼Œè¯·é€‰æ‹©æœ€åˆé€‚çš„æ–°é—»æ ‡é¢˜ï¼š</p>
<div class="option" onclick="selectOption(this, false)">A. ä»Šå¤©æœ‰è®²åº§</div>
<div class="option" onclick="selectOption(this, true)">B. ä¸‰æ±Ÿå­¦é™¢æ–°é—»å­¦ä¸“ä¸šä¸¾åŠ"æ–°åª’ä½“æ—¶ä»£"ä¸»é¢˜è®²åº§</div>
<div class="option" onclick="selectOption(this, false)">C. è®²åº§å¾ˆç²¾å½©</div>
<div class="option" onclick="selectOption(this, false)">D. æ–°é—»å­¦ä¸“ä¸š</div>
</div>
</div>

<button class="action-button" onclick="nextLevel()">ç»§ç»­ä¸‹ä¸€é¢˜</button>
</div>

<!-- ä»»åŠ¡3ï¼šé‡‡è®¿æŠ€å·§ -->
<div class="level-container" id="level3">
<div class="mission-card">
<h2 class="mission-title">
<span class="mission-icon">ğŸ¤</span>
ä»»åŠ¡ä¸‰ï¼šé‡‡è®¿æŠ€å·§é—®ç­”
</h2>
<p class="mission-description">
ä½œä¸ºæ–°é—»å·¥ä½œè€…ï¼ŒæŒæ¡æ­£ç¡®çš„é‡‡è®¿æŠ€å·§éå¸¸é‡è¦ã€‚å›ç­”ä¸‹åˆ—é—®é¢˜ã€‚
</p>
</div>

<div class="task-area">
<div class="question-box">
<p class="question">è¿›è¡Œé‡‡è®¿æ—¶ï¼Œæœ€é‡è¦çš„æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<div class="option" onclick="selectOption(this, false)">A. å‡†å¤‡å¾ˆå¤šå°–é”çš„é—®é¢˜</div>
<div class="option" onclick="selectOption(this, true)">B. åšå¥½å……åˆ†å‡†å¤‡ï¼Œå°Šé‡å—è®¿è€…</div>
<div class="option" onclick="selectOption(this, false)">C. ç©¿ç€æ—¶å°š</div>
<div class="option" onclick="selectOption(this, false)">D. éšæ„æé—®</div>
</div>
</div>

<button class="action-button" onclick="nextLevel()">ç»§ç»­ä¸‹ä¸€é¢˜</button>
</div>

<!-- ä»»åŠ¡4ï¼šæ–°é—»ç¼–è¾‘å®¤ -->
<div class="level-container" id="level4">
<div class="mission-card">
<h2 class="mission-title">
<span class="mission-icon">ğŸ“</span>
ä»»åŠ¡å››ï¼šæ¢ç´¢æ–°é—»ç¼–è¾‘å®¤
</h2>
<p class="mission-description">
ä¸‰æ±Ÿå­¦é™¢æ–°é—»å­¦ä¸“ä¸šçš„ç¼–è¾‘å®¤é…å¤‡äº†å…ˆè¿›çš„è®¾å¤‡ï¼Œè®©æˆ‘ä»¬ä¸€èµ·çœ‹çœ‹å§ï¼
</p>
</div>

<div class="task-area">
<div class="news-gallery">
<div class="news-item" onclick="showNewsDetail(1)">
<div class="news-image">ğŸ’»</div>
<div class="news-content">
<h3 class="news-title">æ•°å­—ç¼–è¾‘å·¥ä½œç«™</h3>
<p class="news-excerpt">é…å¤‡ä¸“ä¸šç¼–è¾‘è½¯ä»¶ï¼Œæ”¯æŒè§†é¢‘å‰ªè¾‘ã€å›¾æ–‡æ’ç‰ˆ</p>
</div>
</div>
<div class="news-item" onclick="showNewsDetail(2)">
<div class="news-image">ğŸ¥</div>
<div class="news-content">
<h3 class="news-title">æ¼”æ’­å®¤</h3>
<p class="news-excerpt">ä¸“ä¸šçº§æ‹æ‘„è®¾å¤‡ï¼Œæ¨¡æ‹ŸçœŸå®æ–°é—»åœºæ™¯</p>
</div>
</div>
<div class="news-item" onclick="showNewsDetail(3)">
<div class="news-image">ğŸ“¡</div>
<div class="news-content">
<h3 class="news-title">å¹¿æ’­å°</h3>
<p class="news-excerpt">æ ¡å›­å¹¿æ’­å®è·µåŸºåœ°ï¼ŒåŸ¹å…»æ’­éŸ³ä¸»æŒäººæ‰</p>
</div>
</div>
</div>
</div>

<button class="action-button" onclick="nextLevel()">å®Œæˆæ¢ç´¢</button>
</div>

<!-- ä»»åŠ¡5ï¼šæ–°é—»å‘å¸ƒ -->
<div class="level-container" id="level5">
<div class="mission-card">
<h2 class="mission-title">
<span class="mission-icon">ğŸš€</span>
ä»»åŠ¡äº”ï¼šæ–°é—»å‘å¸ƒå®è·µ
</h2>
<p class="mission-description">
æ­å–œä½ å®Œæˆäº†æ‰€æœ‰å­¦ä¹ ä»»åŠ¡ï¼ç°åœ¨å‘å¸ƒä½ çš„ç¬¬ä¸€ç¯‡æ–°é—»ä½œå“å§ï¼
</p>
</div>

<div class="task-area">
<div class="question-box">
<h3>è¯·ä¸ºä½ çš„æ–°é—»ä½œå“é€‰æ‹©ä¸€ä¸ªå‘å¸ƒå¹³å°ï¼š</h3>
<div class="option" onclick="selectOption(this, false)">A. ä»…åœ¨ç­çº§å†…éƒ¨åˆ†äº«</div>
<div class="option" onclick="selectOption(this, true)">B. æ ¡å›­åª’ä½“å¹³å° + ç¤¾äº¤åª’ä½“</div>
<div class="option" onclick="selectOption(this, false)">C. åªå‘æœ‹å‹åœˆ</div>
<div class="option" onclick="selectOption(this, false)">D. ä¸å‘å¸ƒ</div>
</div>
</div>

<button class="action-button" onclick="completeGame()">å®Œæˆæ‰€æœ‰ä»»åŠ¡</button>
</div>

<!-- å®Œæˆç•Œé¢ -->
<div class="level-container" id="complete">
<div class="intro-screen">
<div class="character-avatar" style="font-size: 5em;">ğŸ‰</div>
<h2 class="intro-title">æ­å–œä½ æˆä¸ºæ–°é—»å°è®°è€…ï¼</h2>
<p class="intro-text">
ä½ å·²ç»æˆåŠŸå®Œæˆäº†æ‰€æœ‰5ä¸ªä»»åŠ¡ï¼Œ<br>
äº†è§£äº†æ–°é—»å­¦çš„åŸºæœ¬çŸ¥è¯†å’ŒæŠ€èƒ½ã€‚<br>
ä¸‰æ±Ÿå­¦é™¢æ–°é—»å­¦ä¸“ä¸šæœŸå¾…ä½ çš„åŠ å…¥ï¼
</p>
<div id="earned-badges"></div>
<button class="action-button" onclick="restartGame()">å†ç©ä¸€æ¬¡</button>
<button class="action-button" onclick="showCollegeInfo()">äº†è§£æ›´å¤š</button>
</div>
</div>

<div class="progress-bar">
<div class="progress-fill" id="progressBar"></div>
</div>
</div>
</div>

<!-- æ¨¡æ€æ¡† -->
<div class="modal" id="modal">
<div class="modal-content">
<h2 id="modalTitle">æ ‡é¢˜</h2>
<p id="modalText">å†…å®¹</p>
<button class="close-button" onclick="closeModal()">å…³é—­</button>
</div>
</div>

<script>
let currentLevel = 0;
let experience = 0;
let achievements = 0;
let draggedElement = null;

const levels = ['intro', 'level1', 'level2', 'level3', 'level4', 'level5', 'complete'];
const progressText = ['æ¬¢è¿', 'æ–°é—»è¦ç´ ', 'æ ‡é¢˜åˆ›ä½œ', 'é‡‡è®¿æŠ€å·§', 'ç¼–è¾‘å®¤', 'æ–°é—»å‘å¸ƒ', 'å®Œæˆ'];

function startGame() {
currentLevel = 1;
showLevel(currentLevel);
updateProgress();
}

function showLevel(level) {
document.querySelectorAll('.level-container').forEach(container => {
container.classList.remove('active');
});
document.getElementById(levels[level]).classList.add('active');

// æ›´æ–°è¿›åº¦æ¡
const progress = (level / (levels.length - 1)) * 100;
document.getElementById('progressBar').style.width = progress + '%';
}

function nextLevel() {
if (currentLevel < levels.length - 1) {
currentLevel++;
showLevel(currentLevel);
updateProgress();
experience += 20;
updateStats();
}
}

function updateProgress() {
document.getElementById('progress').textContent = currentLevel;
}

function updateStats() {
document.getElementById('experience').textContent = experience;
document.getElementById('achievements').textContent = achievements;
}

// æ‹–æ‹½åŠŸèƒ½
document.addEventListener('DOMContentLoaded', function() {
const draggables = document.querySelectorAll('.draggable-item');
const containers = document.querySelectorAll('.drag-container, .answer-slot');

draggables.forEach(draggable => {
draggable.addEventListener('dragstart', function(e) {
draggedElement = this;
this.classList.add('dragging');
e.dataTransfer.effectAllowed = 'move';
e.dataTransfer.setData('text/html', this.innerHTML);
});

draggable.addEventListener('dragend', function(e) {
this.classList.remove('dragging');
});
});

containers.forEach(container => {
container.addEventListener('dragover', function(e) {
e.preventDefault();
this.classList.add('drag-over');
});

container.addEventListener('dragleave', function(e) {
this.classList.remove('drag-over');
});

container.addEventListener('drop', function(e) {
e.preventDefault();
this.classList.remove('drag-over');

if (draggedElement) {
// å¦‚æœæ˜¯ç­”æ¡ˆæ§½ï¼Œæ›¿æ¢å†…å®¹
if (this.classList.contains('answer-slot')) {
this.textContent = '';
this.appendChild(draggedElement.cloneNode(true));
} else {
this.appendChild(draggedElement.cloneNode(true));
}
}
});
});
});

function checkLevel1() {
const slots = document.querySelectorAll('.answer-slot');
let correct = 0;

slots.forEach(slot => {
const slotAnswer = slot.dataset.answer;
const draggedItem = slot.querySelector('.draggable-item');
if (draggedItem && draggedItem.dataset.element === slotAnswer) {
correct++;
draggedItem.style.background = '#4caf50';
draggedItem.style.color = 'white';
} else if (draggedItem) {
draggedItem.style.background = '#f44336';
draggedItem.style.color = 'white';
}
});

if (correct === 6) {
experience += 30;
achievements++;
updateStats();
showModal('ä»»åŠ¡å®Œæˆï¼', 'æ­å–œä½ ï¼ä½ æ­£ç¡®è¯†åˆ«äº†æ‰€æœ‰çš„æ–°é—»è¦ç´ ï¼è·å¾—30ç»éªŒå€¼ï¼');
setTimeout(() => nextLevel(), 2000);
} else {
showModal('ç»§ç»­åŠªåŠ›', `ä½ ç­”å¯¹äº† ${correct} ä¸ªï¼Œè¿˜æœ‰ ${6 - correct} ä¸ªéœ€è¦æ”¹è¿›ã€‚å†è¯•ä¸€æ¬¡å§ï¼`);
}
}

function selectOption(element, isCorrect) {
const options = element.parentElement.querySelectorAll('.option');
options.forEach(opt => {
opt.classList.remove('selected', 'correct', 'incorrect');
opt.onclick = null;
});

if (isCorrect) {
element.classList.add('correct');
experience += 20;
achievements++;
updateStats();
} else {
element.classList.add('incorrect');
// æ˜¾ç¤ºæ­£ç¡®ç­”æ¡ˆ
options.forEach(opt => {
if (opt.onclick && opt !== element) {
opt.onclick = null;
opt.style.opacity = '0.5';
}
});
}
}

function showHint() {
showModal('æç¤º', 'æ–°é—»è¦ç´ 5W1Håˆ†åˆ«æ˜¯ï¼šWhatï¼ˆä»€ä¹ˆäº‹ï¼‰ã€Whoï¼ˆè°ï¼‰ã€Whenï¼ˆä½•æ—¶ï¼‰ã€Whereï¼ˆä½•åœ°ï¼‰ã€Whyï¼ˆä¸ºä½•ï¼‰ã€Howï¼ˆå¦‚ä½•ï¼‰ã€‚');
}

function showNewsDetail(id) {
const details = {
1: 'ä¸‰æ±Ÿå­¦é™¢æ–°é—»å­¦ä¸“ä¸šæ‹¥æœ‰å…ˆè¿›çš„æ•°å­—ç¼–è¾‘å·¥ä½œç«™ï¼Œé…å¤‡Adobe Creative Cloudå…¨å¥—è½¯ä»¶ï¼ŒåŒ…æ‹¬Photoshopã€Premiere Proã€After Effectsç­‰ä¸“ä¸šå·¥å…·ï¼Œå¸®åŠ©å­¦ç”ŸæŒæ¡ç°ä»£åª’ä½“åˆ¶ä½œæŠ€èƒ½ã€‚',
2: 'ä¸“ä¸šæ¼”æ’­å®¤é…å¤‡4Kæ‘„åƒæœºã€ä¸“ä¸šç¯å…‰ç³»ç»Ÿã€ç»¿å¹•ç­‰è®¾å¤‡ï¼Œæ¨¡æ‹ŸçœŸå®æ–°é—»æ¼”æ’­ç¯å¢ƒï¼Œä¸ºå­¦ç”Ÿæä¾›å®è·µæœºä¼šã€‚',
3: 'æ ¡å›­å¹¿æ’­å°æ˜¯å­¦ç”Ÿå®è·µçš„é‡è¦å¹³å°ï¼Œæ¯å¤©æ’­æŠ¥æ ¡å›­æ–°é—»ã€æ’­æ”¾éŸ³ä¹ï¼ŒåŸ¹å…»æ’­éŸ³ä¸»æŒäººæ‰ã€‚'
};

showModal('è®¾æ–½è¯¦æƒ…', details[id]);
}

function completeGame() {
currentLevel = levels.length - 1;
showLevel(currentLevel);
updateProgress();

// æ˜¾ç¤ºè·å¾—çš„å¾½ç« 
const badges = ['æ–°é—»è¦ç´ å¤§å¸ˆ', 'æ ‡é¢˜åˆ›ä½œè¾¾äºº', 'é‡‡è®¿ä¸“å®¶', 'ç¼–è¾‘å®¤æ¢ç´¢è€…', 'æ–°é—»å‘å¸ƒå…ˆé”‹'];
const badgesHtml = badges.map(badge => `<span class="award-badge">${badge}</span>`).join('');
document.getElementById('earned-badges').innerHTML = `<h3>è·å¾—çš„æˆå°±ï¼š</h3>${badgesHtml}`;

experience += 50;
achievements += 5;
updateStats();
}

function restartGame() {
currentLevel = 0;
experience = 0;
achievements = 0;
updateStats();
showLevel(0);

// é‡ç½®æ‰€æœ‰çŠ¶æ€
document.querySelectorAll('.option').forEach(opt => {
opt.classList.remove('selected', 'correct', 'incorrect');
opt.onclick = null;
opt.style.opacity = '1';
});

// é‡ç½®æ‹–æ‹½åŒºåŸŸ
document.getElementById('elements-container').innerHTML = `
<div class="draggable-item" draggable="true" data-element="what">What (ä»€ä¹ˆäº‹)</div>
<div class="draggable-item" draggable="true" data-element="who">Who (è°)</div>
<div class="draggable-item" draggable="true" data-element="when">When (ä½•æ—¶)</div>
<div class="draggable-item" draggable="true" data-element="where">Where (ä½•åœ°)</div>
<div class="draggable-item" draggable="true" data-element="why">Why (ä¸ºä½•)</div>
<div class="draggable-item" draggable="true" data-element="how">How (å¦‚ä½•)</div>
`;

document.querySelectorAll('.answer-slot').forEach(slot => {
slot.innerHTML = slot.dataset.answer === 'what' ? '1. _______ï¼šå‘ç”Ÿäº†ä»€ä¹ˆäº‹ä»¶ï¼Ÿ' :
slot.dataset.answer === 'who' ? '2. _______ï¼šè°å‚ä¸äº†äº‹ä»¶ï¼Ÿ' :
slot.dataset.answer === 'when' ? '3. _______ï¼šäº‹ä»¶ä½•æ—¶å‘ç”Ÿï¼Ÿ' :
slot.dataset.answer === 'where' ? '4. _______ï¼šäº‹ä»¶å‘ç”Ÿåœ¨å“ªé‡Œï¼Ÿ' :
slot.dataset.answer === 'why' ? '5. _______ï¼šäº‹ä»¶ä¸ºä½•å‘ç”Ÿï¼Ÿ' :
'6. _______ï¼šäº‹ä»¶å¦‚ä½•å‘ç”Ÿï¼Ÿ';
});
}

function showCollegeInfo() {
showModal('ä¸‰æ±Ÿå­¦é™¢æ–°é—»å­¦ä¸“ä¸š',
'ä¸‰æ±Ÿå­¦é™¢æ–°é—»å­¦ä¸“ä¸šæ˜¯å­¦æ ¡çš„ç‰¹è‰²ä¸“ä¸šä¹‹ä¸€ï¼Œæ‹¥æœ‰ä¼˜ç§€çš„å¸ˆèµ„é˜Ÿä¼å’Œå…ˆè¿›çš„æ•™å­¦è®¾æ–½ã€‚\n\n' +
'ä¸“ä¸šç‰¹è‰²ï¼š\n' +
'â€¢ æ³¨é‡å®è·µæ•™å­¦ï¼Œå¼ºè°ƒå­¦ä»¥è‡´ç”¨\n' +
'â€¢ ä¸åª’ä½“è¡Œä¸šç´§å¯†åˆä½œï¼Œæä¾›å®ä¹ æœºä¼š\n' +
'â€¢ åŸ¹å…»å…¨åª’ä½“æ–°é—»äººæ‰ï¼Œé€‚åº”åª’ä½“èåˆå‘å±•è¶‹åŠ¿\n' +
'â€¢ ä¼˜ç§€çš„å°±ä¸šç‡å’Œå‡å­¦ç‡\n\n' +
'æ¬¢è¿æŠ¥è€ƒä¸‰æ±Ÿå­¦é™¢æ–°é—»å­¦ä¸“ä¸šï¼');
}

function showModal(title, text) {
document.getElementById('modalTitle').textContent = title;
document.getElementById('modalText').textContent = text;
document.getElementById('modal').style.display = 'flex';
}

function closeModal() {
document.getElementById('modal').style.display = 'none';
}

// ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
document.getElementById('modal').addEventListener('click', function(e) {
if (e.target === this) {
closeModal();
}
});
</script>
</body>
</html>